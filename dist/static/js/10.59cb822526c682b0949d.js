webpackJsonp([10],{"/QuZ":function(t,e){},"0TOv":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("4YfN"),i=s.n(a),r=s("HzJ8"),n=s.n(r),o=s("3cXf"),c=s.n(o),l=s("ZLEe"),u=s.n(l),f=s("aA9S"),m=s.n(f),p=s("TbzR"),v=s("48sp"),h=s("4fsh"),_={name:"system_platformset_tip",data:function(){return{tipData:[],checkGroupData:{}}},computed:i()({},Object(v.c)(["menuList","tipList"])),created:function(){this.__getConfig()},methods:i()({onSubmit:function(){var t=this,e=m()({},this.checkGroupData,{type:"webPageAlertsManage"});u()(e).forEach(function(t){Array.isArray(e[t])&&(e[t]=e[t].join(","))}),this.$isShowTip("system","system_platformset","确定保存吗？",function(){t.__setConfig(e)},this)},clearForm:function(){var t=this;this.$isShowTip("system","system_platformset","确定重置吗？",function(){t.checkGroupData=JSON.parse(c()(t.tipList))},this)},tipListData:function(){var t=this.menuList.slice(),e=[],s=!0,a=!1,i=void 0;try{for(var r,o=n()(t);!(s=(r=o.next()).done);s=!0){var c=r.value,l={};if(l.name=c.text,l.value=c.name,c.children){l.children=[];var u=!0,f=!1,m=void 0;try{for(var p,v=n()(c.children);!(u=(p=v.next()).done);u=!0){var h=p.value,_={};_.name=h.text,_.value=h.name,l.children.push(_)}}catch(t){f=!0,m=t}finally{try{!u&&v.return&&v.return()}finally{if(f)throw m}}}e.push(l)}}catch(t){a=!0,i=t}finally{try{!s&&o.return&&o.return()}finally{if(a)throw i}}this.tipData=e},__setConfig:function(t){var e=this;Object(h.c)(t).then(function(t){e.$message({type:"success",message:"设置成功"});var s=JSON.parse(c()(e.checkGroupData));e.set_tipList(s)}).catch(function(t){})},__getConfig:function(){var t=this;Object(h.a)({type:"webPageAlertsManage"}).then(function(e){var s=e.data,a={};u()(s).forEach(function(t){s[t]?a[t]=s[t].split(","):a[t]=[]}),t.set_tipList(a),t.checkGroupData=JSON.parse(c()(t.tipList)),t.tipListData()}).catch(function(t){})}},Object(v.d)({set_tipList:p.l}))},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"system-platformset-tip"},[s("el-card",[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[s("i",{staticClass:"el-icon-s-tools platformset-tip-icon"}),t._v("操作确认提示（ 注：当进行增加、修改、删除时，系统默认会弹出确认框，若需取消提示请勾选对应模块 ）\n      ")])]),t._v(" "),s("div",{staticClass:"platformset-tip-body"},[t._l(t.tipData,function(e,a){return s("div",{key:a,staticClass:"clr platformset-tip-item",staticStyle:{"margin-bottom":"20px"}},[s("div",{staticClass:"platformset-tip-item-name"},[t._v(t._s(e.name)+"：")]),t._v(" "),s("el-checkbox-group",{attrs:{size:"mini"},model:{value:t.checkGroupData[e.value],callback:function(s){t.$set(t.checkGroupData,e.value,s)},expression:"checkGroupData[item.value]"}},t._l(e.children,function(e){return s("el-checkbox",{key:e.value,attrs:{label:e.value,value:e.value,border:""}},[t._v(t._s(e.name))])}),1)],1)}),t._v(" "),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.onSubmit}},[t._v("保存")]),t._v(" "),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.clearForm}},[t._v("重置")])],2)])],1)},staticRenderFns:[]};var y=s("C7Lr")(_,d,!1,function(t){s("SE2R")},"data-v-48970665",null).exports,b=s("rVsN"),g=s.n(b),C=s("iqp0");var S={name:"system_platformset_server_set",data:function(){var t=this;return{ipRules:[{validate:function(t){return!!t},message:"ip地址不能为空"},{validate:function(e){return t.$validates.ipReg.test(e)},message:"请输入正确的IP地址,例如:1.1.1.1"}],formData:{ip:""},labelPosition:"right",moduleList:[]}},created:function(){this.__getProxyConfig()},methods:{onSubmit:function(){var t=this;this.$refs.system_platformset_server_set.validate().then(function(e){e&&t.$isShowTip("system","system_platformset","确定修改吗？",function(){t.__setProxyConfig(t.formData)},t)})},clearForm:function(){var t=this;this.$isShowTip("system","system_platformset","确定重置吗？",function(){t.$refs.system_platformset_server_set.clear(),t.formData={ip:""}},this)},__getProxyConfig:function(t){var e=this;(function(t){return Object(C.a)({url:"/proxy/get",data:t,type:"post"}).then(function(t){return g.a.resolve(t)}).catch(function(t){return g.a.reject(t)})})(t).then(function(t){e.formData.ip=t.data.ip}).catch(function(t){})},__setProxyConfig:function(t){var e=this;(function(t){return Object(C.a)({url:"/proxy/modify",data:t,type:"post"}).then(function(t){return g.a.resolve(t)}).catch(function(t){return g.a.reject(t)})})(t).then(function(t){e.$message({type:"success",message:"设置成功"})}).catch(function(t){})}}},x={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"system-platformset-server_set"},[s("el-card",[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[s("i",{staticClass:"el-icon-s-tools platformset-server_set-icon"}),t._v("出口设置\n      ")]),t._v(" "),s("span",{staticClass:"colorNotice"},[t._v("（ 注：出口地址为负载均衡所使用的虚拟地址 ）")])]),t._v(" "),s("div",{staticClass:"platformset-server_set-body"},[s("mu-form",{ref:"system_platformset_server_set",staticClass:"mu-demo-form",attrs:{model:t.formData,"label-position":t.labelPosition,"label-width":"100"}},[s("mu-form-item",{attrs:{prop:"ip","label-width":"80",label:"IP地址",rules:t.ipRules}},[s("mu-text-field",{attrs:{"max-length":50},model:{value:t.formData.ip,callback:function(e){t.$set(t.formData,"ip",e)},expression:"formData.ip"}})],1),t._v(" "),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.onSubmit}},[t._v("设置")]),t._v(" "),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.clearForm}},[t._v("重置")])],1)],1)])],1)},staticRenderFns:[]};var D=s("C7Lr")(S,x,!1,function(t){s("/QuZ")},"data-v-89c2b622",null).exports,k={name:"system_platformset",data:function(){return{isShow:!0}},activated:function(){1==JSON.parse(this.authorInfo).mode&&(this.isShow=!1)},computed:i()({},Object(v.c)(["authorInfo"])),components:{tipSet:y,serverSet:D}},L={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"system-platformset"},[e("div",{staticClass:"system-platformset-item"},[e("tip-set")],1),this._v(" "),e("div",{staticClass:"system-platformset-item"},[this.isShow?e("server-set"):this._e()],1)])},staticRenderFns:[]};var w=s("C7Lr")(k,L,!1,function(t){s("6SVy")},"data-v-7a87d608",null);e.default=w.exports},"6SVy":function(t,e){},SE2R:function(t,e){}});
//# sourceMappingURL=10.59cb822526c682b0949d.js.map