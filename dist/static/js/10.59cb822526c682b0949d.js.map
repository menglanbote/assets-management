{"version":3,"sources":["webpack:///src/views/system/platformset/tip_set.vue","webpack:///./src/views/system/platformset/tip_set.vue?6e69","webpack:///./src/views/system/platformset/tip_set.vue","webpack:///src/views/system/platformset/server_set.vue","webpack:///./src/req/api/system/platformset.js","webpack:///./src/views/system/platformset/server_set.vue?5380","webpack:///./src/views/system/platformset/server_set.vue","webpack:///src/views/system/platformset/index.vue","webpack:///./src/views/system/platformset/index.vue?c42d","webpack:///./src/views/system/platformset/index.vue"],"names":["tip_set","name","data","tipData","checkGroupData","computed","extends_default","Object","vuex_esm","created","this","__getConfig","methods","onSubmit","_this","param","assign_default","type","keys_default","forEach","key","Array","isArray","join","$isShowTip","__setConfig","clearForm","_this2","JSON","parse","stringify_default","tipList","tipListData","dataList","menuList","slice","newList","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","item","value","map","text","children","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","child","childMap","push","err","return","_this3","configset","then","res","$message","message","set_tipList","catch","_this4","tipdata","split","mutation_types","platformset_tip_set","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","slot","_v","_l","index","staticStyle","margin-bottom","_s","size","model","callback","$$v","$set","expression","label","border","on","click","staticRenderFns","system_platformset_tip_set","__webpack_require__","normalizeComponent","ssrContext","server_set","ipRules","validate","val","$validates","ipReg","test","formData","ip","labelPosition","moduleList","__getProxyConfig","$refs","system_platformset_server_set","result","__setProxyConfig","clear","ajaxPro","url","promise_default","a","resolve","reject","getProxyConfig","_this5","setProxyConfig","platformset_server_set","ref","label-position","label-width","prop","rules","max-length","server_set_normalizeComponent","platformset","isShow","activated","authorInfo","mode","components","tipSet","serverSet","system_platformset","_e","platformset_Component","platformset_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/10.59cb822526c682b0949d.js","sourcesContent":["<template>\r\n  <div class=\"system-platformset-tip\">\r\n    <el-card>\r\n      <div slot=\"header\" class=\"clearfix\">\r\n        <span>\r\n          <i class=\"el-icon-s-tools platformset-tip-icon\"></i>操作确认提示（ 注：当进行增加、修改、删除时，系统默认会弹出确认框，若需取消提示请勾选对应模块 ）\r\n        </span>\r\n      </div>\r\n      <div class=\"platformset-tip-body\">\r\n        <div\r\n          class=\"clr platformset-tip-item\"\r\n          style=\"margin-bottom: 20px\"\r\n          v-for=\"(item,index) of tipData\"\r\n          :key=\"index\"\r\n        >\r\n          <div class=\"platformset-tip-item-name\">{{item.name}}：</div>\r\n          <el-checkbox-group v-model=\"checkGroupData[item.value]\" size=\"mini\">\r\n            <el-checkbox\r\n              v-for=\"child in item.children\"\r\n              :label=\"child.value\"\r\n              :value=\"child.value\"\r\n              :key=\"child.value\"\r\n              border\r\n            >{{child.name}}</el-checkbox>\r\n          </el-checkbox-group>\r\n        </div>\r\n        <el-button type=\"primary\" size=\"small\" @click=\"onSubmit\">保存</el-button>\r\n        <el-button type=\"primary\" size=\"small\" @click=\"clearForm\">重置</el-button>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n<script>\r\nimport * as types from \"store/mutation_types\";\r\nimport { mapGetters, mapMutations } from \"vuex\";\r\nimport { getConfig, setConfig } from \"req/api/serverconfig/configset\";\r\n\r\nexport default {\r\n  name: \"system_platformset_tip\",\r\n  data() {\r\n    return {\r\n      tipData: [],\r\n      checkGroupData: {}\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"menuList\", \"tipList\"])\r\n  },\r\n  created() {\r\n    this.__getConfig();\r\n  },\r\n  methods: {\r\n    onSubmit() {\r\n      let param = Object.assign({}, this.checkGroupData, {\r\n        type: \"webPageAlertsManage\"\r\n      });\r\n      Object.keys(param).forEach(key => {\r\n        if (Array.isArray(param[key])) {\r\n          param[key] = param[key].join(\",\");\r\n        }\r\n      });\r\n      this.$isShowTip(\r\n        \"system\",\r\n        \"system_platformset\",\r\n        \"确定保存吗？\",\r\n        () => {\r\n          this.__setConfig(param);\r\n        },\r\n        this\r\n      );\r\n    },\r\n    clearForm() {\r\n      this.$isShowTip(\r\n        \"system\",\r\n        \"system_platformset\",\r\n        \"确定重置吗？\",\r\n        () => {\r\n          this.checkGroupData = JSON.parse(JSON.stringify(this.tipList));\r\n        },\r\n        this\r\n      );\r\n    },\r\n    tipListData() {\r\n      let dataList = this.menuList.slice();\r\n      let newList = [];\r\n      for (let item of dataList) {\r\n        let map = {};\r\n        map.name = item.text;\r\n        map.value = item.name;\r\n        if (item.children) {\r\n          map.children = [];\r\n          for (let child of item.children) {\r\n            let childMap = {};\r\n            childMap.name = child.text;\r\n            childMap.value = child.name;\r\n            map.children.push(childMap);\r\n          }\r\n        }\r\n        newList.push(map);\r\n      }\r\n      this.tipData = newList;\r\n    },\r\n    __setConfig(param) {\r\n      setConfig(param)\r\n        .then(res => {\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"设置成功\"\r\n          });\r\n          let data = JSON.parse(JSON.stringify(this.checkGroupData));\r\n          this.set_tipList(data);\r\n        })\r\n        .catch(err => {});\r\n    },\r\n    __getConfig() {\r\n      getConfig({\r\n        type: \"webPageAlertsManage\"\r\n      })\r\n        .then(res => {\r\n          let data = res.data;\r\n          let tipdata = {};\r\n          Object.keys(data).forEach(key => {\r\n            if(data[key]){\r\n              tipdata[key] = data[key].split(\",\");\r\n            }else {\r\n              tipdata[key] = []\r\n            }\r\n          });\r\n          this.set_tipList(tipdata);\r\n          this.checkGroupData = JSON.parse(JSON.stringify(this.tipList));\r\n          this.tipListData();\r\n        })\r\n        .catch(err => {});\r\n    },\r\n    ...mapMutations({\r\n      set_tipList: types.SET_TIPLIST\r\n    })\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.select-control-row {\r\n  padding: 8px 0;\r\n}\r\n.select-control-group {\r\n  margin: 16px 0;\r\n}\r\n.system-platformset-tip {\r\n  .el-checkbox.is-bordered {\r\n    margin-left: 0;\r\n    margin-right:10px;\r\n    margin-bottom:10px;\r\n}\r\n  .is-bordered {\r\n    width:136px;\r\n    margin-right:0;\r\n  }\r\n  .platformset-tip-icon {\r\n    margin-right: 5px;\r\n    font-size: 16px;\r\n  }\r\n  .platformset-tip-body {\r\n    .platformset-tip-note {\r\n      color: #888;\r\n    }\r\n    .platformset-tip-item {\r\n      .platformset-tip-item-name {\r\n        display: block;\r\n        padding: 0 0 10px 0;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/system/platformset/tip_set.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"system-platformset-tip\"},[_c('el-card',[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_c('i',{staticClass:\"el-icon-s-tools platformset-tip-icon\"}),_vm._v(\"操作确认提示（ 注：当进行增加、修改、删除时，系统默认会弹出确认框，若需取消提示请勾选对应模块 ）\\n      \")])]),_vm._v(\" \"),_c('div',{staticClass:\"platformset-tip-body\"},[_vm._l((_vm.tipData),function(item,index){return _c('div',{key:index,staticClass:\"clr platformset-tip-item\",staticStyle:{\"margin-bottom\":\"20px\"}},[_c('div',{staticClass:\"platformset-tip-item-name\"},[_vm._v(_vm._s(item.name)+\"：\")]),_vm._v(\" \"),_c('el-checkbox-group',{attrs:{\"size\":\"mini\"},model:{value:(_vm.checkGroupData[item.value]),callback:function ($$v) {_vm.$set(_vm.checkGroupData, item.value, $$v)},expression:\"checkGroupData[item.value]\"}},_vm._l((item.children),function(child){return _c('el-checkbox',{key:child.value,attrs:{\"label\":child.value,\"value\":child.value,\"border\":\"\"}},[_vm._v(_vm._s(child.name))])}),1)],1)}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.clearForm}},[_vm._v(\"重置\")])],2)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-48970665\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/system/platformset/tip_set.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-48970665\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./tip_set.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./tip_set.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./tip_set.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-48970665\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./tip_set.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-48970665\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/system/platformset/tip_set.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"system-platformset-server_set\">\r\n    <el-card>\r\n      <div slot=\"header\" class=\"clearfix\">\r\n        <span>\r\n          <i class=\"el-icon-s-tools platformset-server_set-icon\"></i>出口设置\r\n        </span>\r\n        <span class=\"colorNotice\">（ 注：出口地址为负载均衡所使用的虚拟地址 ）</span>\r\n      </div>\r\n      <div class=\"platformset-server_set-body\">\r\n        <mu-form\r\n          :model=\"formData\"\r\n          class=\"mu-demo-form\"\r\n          :label-position=\"labelPosition\"\r\n          label-width=\"100\"\r\n          ref=\"system_platformset_server_set\"\r\n        >\r\n          <!-- <el-row :gutter=\"20\">\r\n            <el-col :span=\"3\">\r\n              <div class=\"proxy-title\">\r\n                <el-tag type=\"primary\" disable-transitions>公共IP地址</el-tag>\r\n              </div>\r\n            </el-col>\r\n            <el-col :span=\"21\"> -->\r\n               <!-- <div class=\"colorNotice\">备注：出口地址为负载均衡所使用的虚拟地址</div> -->\r\n              <mu-form-item\r\n                prop=\"ip\"\r\n                label-width=\"80\"\r\n                label=\"IP地址\"\r\n                :rules=\"ipRules\"\r\n              >\r\n                <mu-text-field\r\n                  v-model=\"formData.ip\"\r\n                  :max-length=\"50\"\r\n                ></mu-text-field>\r\n              </mu-form-item>\r\n              \r\n            <!-- </el-col>\r\n          </el-row> -->\r\n\r\n         <!--  <div v-for=\"(item, index) in moduleList\" :key=\"index\">\r\n            <div class=\"clr\">\r\n              <el-row :gutter=\"20\">\r\n                <el-col :span=\"3\">\r\n                  <div class=\"proxy-title\">\r\n                    <el-tag type=\"primary\" disable-transitions>{{\r\n                      item.name\r\n                    }}</el-tag>\r\n                  </div>\r\n                </el-col>\r\n                <el-col :span=\"6\">\r\n                  <mu-form-item\r\n                    :prop=\"item.port\"\r\n                    label=\"端口地址\"\r\n                    :rules=\"portRules\"\r\n                    label-width=\"80\"\r\n                  >\r\n                    <mu-text-field\r\n                      v-model=\"formData[item.port]\"\r\n                      :max-length=\"50\"\r\n                    ></mu-text-field>\r\n                  </mu-form-item>\r\n                </el-col>\r\n                <el-col :span=\"15\">\r\n                  <mu-form-item\r\n                    :prop=\"item.backend_ip\"\r\n                    label=\"后端IP地址\"\r\n                    :rules=\"ipsRules\"\r\n                  >\r\n                    <mu-text-field\r\n                      v-model=\"formData[item.backend_ip]\"\r\n                      :max-length=\"60\"\r\n                    ></mu-text-field>\r\n                  </mu-form-item>\r\n                </el-col>\r\n              </el-row>\r\n            </div>\r\n          </div> -->\r\n          <el-button type=\"primary\" size=\"small\" @click=\"onSubmit\"\r\n            >设置</el-button\r\n          >\r\n          <el-button type=\"primary\" size=\"small\" @click=\"clearForm\"\r\n            >重置</el-button\r\n          >\r\n        </mu-form>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getProxyConfig, setProxyConfig } from \"req/api/system/platformset\";\r\n\r\nexport default {\r\n  name: \"system_platformset_server_set\",\r\n  data() {\r\n    return {\r\n      // ipsRules: [\r\n      //   {\r\n      //     validate: val => this.$validates.checkMoreIp(val),\r\n      //     message: \"请输入正确的IP地址,IP可为多个,例如:1.1.1.1,2.2.2.2\"\r\n      //   }\r\n      // ],\r\n      ipRules: [\r\n        {\r\n          validate: val => !!val,\r\n          message: \"ip地址不能为空\"\r\n        },\r\n        {\r\n          validate: val => this.$validates.ipReg.test(val),\r\n          message: \"请输入正确的IP地址,例如:1.1.1.1\"\r\n        }\r\n      ],\r\n      // portRules: [\r\n      //   {\r\n      //     validate: val => !!val,\r\n      //     message: \"端口号不能为空\"\r\n      //   },\r\n      //   {\r\n      //     validate: val => {\r\n      //       return !isNaN(val) && parseInt(val) > 0 && parseInt(val) < 65536 && /^[^0]/.test(val);\r\n      //     },\r\n      //     message: \"请输入正确的端口号,端口号大于0小于65536\"\r\n      //   }\r\n      // ],\r\n      formData: {\r\n        ip: \"\"\r\n      },\r\n      labelPosition: \"right\",\r\n      moduleList: []\r\n    };\r\n  },\r\n  created() {\r\n    this.__getProxyConfig();\r\n  },\r\n  methods: {\r\n    onSubmit() {\r\n      this.$refs.system_platformset_server_set.validate().then(result => {\r\n        if (result) {\r\n          this.$isShowTip(\r\n            \"system\",\r\n            \"system_platformset\",\r\n            \"确定修改吗？\",\r\n            () => {\r\n             /*  let portArr = [];\r\n              this.moduleList.forEach(item => {\r\n                let map = JSON.parse(JSON.stringify(item))\r\n                map.port = parseInt(this.formData[item.port]);\r\n                map.backend_ip = this.formData[item.backend_ip];\r\n                portArr.push(map);\r\n              });\r\n              let data = {};\r\n              data.port = JSON.stringify(portArr);\r\n              data.ip = this.formData.ip; \r\n              this.__setProxyConfig(data);*/\r\n              this.__setProxyConfig(this.formData);\r\n            },\r\n            this\r\n          );\r\n        }\r\n      });\r\n    },\r\n    clearForm() {\r\n      this.$isShowTip(\r\n        \"system\",\r\n        \"system_platformset\",\r\n        \"确定重置吗？\",\r\n        () => {\r\n          // this.__getProxyConfig();\r\n          this.$refs.system_platformset_server_set.clear()\r\n          this.formData = {\r\n            ip:\"\"\r\n          }\r\n        },\r\n        this\r\n      );\r\n    },\r\n    __getProxyConfig(param) {\r\n      getProxyConfig(param)\r\n        .then(res => {\r\n          this.formData.ip = res.data.ip\r\n         /*  this.formData.ip = res.data.ip;\r\n          let mod = res.data.module;\r\n          let map = JSON.parse(JSON.stringify(mod));\r\n          for (let item of map) {\r\n            let strPort = `${item.type}_AND_port`;\r\n            let strBackIp = `${item.type}_AND_backend_ip`;\r\n            let port = item.port;\r\n            let backend_ip = item.backend_ip;\r\n            this.$set(this.formData, strPort, port);\r\n            this.$set(this.formData, strBackIp, backend_ip);\r\n            item.port = strPort;\r\n            item.backend_ip = strBackIp;\r\n          }\r\n          this.moduleList = map; */\r\n        })\r\n        .catch(err => {});\r\n    },\r\n    __setProxyConfig(param) {\r\n      setProxyConfig(param)\r\n        .then(res => {\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"设置成功\"\r\n          });\r\n        })\r\n        .catch(err => {});\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.system-platformset-server_set {\r\n  .mu-demo-form {\r\n    width: 400px;\r\n    .proxy-title {\r\n      line-height: 38px;\r\n      .el-tag {\r\n        width: 100%;\r\n      }\r\n    }\r\n    .mu-form-item {\r\n      // margin-bottom: 0;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/system/platformset/server_set.vue","import { ajaxPro } from \"req/http/http\";\r\n\r\nexport function getDataBaseConfig(param) {\r\n  return ajaxPro({\r\n    url: \"/databaseconfig/get\",\r\n    data: param,\r\n    type: \"post\"\r\n  })\r\n    .then(res => {\r\n      return Promise.resolve(res);\r\n    })\r\n    .catch(err => {\r\n      return Promise.reject(err);\r\n    });\r\n}\r\n\r\nexport function setDataBaseConfig(param) {\r\n  return ajaxPro({\r\n    url: \"/databaseconfig/modify\",\r\n    data: param,\r\n    type: \"post\"\r\n  })\r\n    .then(res => {\r\n      return Promise.resolve(res);\r\n    })\r\n    .catch(err => {\r\n      return Promise.reject(err);\r\n    });\r\n}\r\n\r\nexport function getProxyConfig(param) {\r\n  return ajaxPro({\r\n    url: \"/proxy/get\",\r\n    data: param,\r\n    type: \"post\"\r\n  })\r\n    .then(res => {\r\n      return Promise.resolve(res);\r\n    })\r\n    .catch(err => {\r\n      return Promise.reject(err);\r\n    });\r\n}\r\n\r\nexport function setProxyConfig(param) {\r\n  return ajaxPro({\r\n    url: \"/proxy/modify\",\r\n    data: param,\r\n    type: \"post\"\r\n  })\r\n    .then(res => {\r\n      return Promise.resolve(res);\r\n    })\r\n    .catch(err => {\r\n      return Promise.reject(err);\r\n    });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/req/api/system/platformset.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"system-platformset-server_set\"},[_c('el-card',[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_c('i',{staticClass:\"el-icon-s-tools platformset-server_set-icon\"}),_vm._v(\"出口设置\\n      \")]),_vm._v(\" \"),_c('span',{staticClass:\"colorNotice\"},[_vm._v(\"（ 注：出口地址为负载均衡所使用的虚拟地址 ）\")])]),_vm._v(\" \"),_c('div',{staticClass:\"platformset-server_set-body\"},[_c('mu-form',{ref:\"system_platformset_server_set\",staticClass:\"mu-demo-form\",attrs:{\"model\":_vm.formData,\"label-position\":_vm.labelPosition,\"label-width\":\"100\"}},[_c('mu-form-item',{attrs:{\"prop\":\"ip\",\"label-width\":\"80\",\"label\":\"IP地址\",\"rules\":_vm.ipRules}},[_c('mu-text-field',{attrs:{\"max-length\":50},model:{value:(_vm.formData.ip),callback:function ($$v) {_vm.$set(_vm.formData, \"ip\", $$v)},expression:\"formData.ip\"}})],1),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"设置\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.clearForm}},[_vm._v(\"重置\")])],1)],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-89c2b622\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/system/platformset/server_set.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-89c2b622\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./server_set.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./server_set.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./server_set.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-89c2b622\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./server_set.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-89c2b622\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/system/platformset/server_set.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"system-platformset\">\r\n    <div class=\"system-platformset-item\">\r\n      <tip-set></tip-set>\r\n    </div>\r\n    <div class=\"system-platformset-item\">\r\n      <server-set v-if=\"isShow\"></server-set>\r\n    </div> \r\n  </div>\r\n</template>\r\n<script>\r\nimport tipSet from './tip_set'\r\nimport serverSet from './server_set'\r\nimport {mapGetters} from \"vuex\"\r\n\r\nexport default {\r\n  name: \"system_platformset\",\r\n  data() {\r\n    return {\r\n      isShow:true\r\n    }\r\n  },\r\n  activated () {\r\n    let info = JSON.parse(this.authorInfo)\r\n    if(info.mode == 1) {\r\n      this.isShow = false\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"authorInfo\"])\r\n  },\r\n  components: {\r\n    tipSet,\r\n    serverSet\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.system-platformset {\r\n  .system-platformset-item {\r\n    margin-bottom:20px;\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/system/platformset/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"system-platformset\"},[_c('div',{staticClass:\"system-platformset-item\"},[_c('tip-set')],1),_vm._v(\" \"),_c('div',{staticClass:\"system-platformset-item\"},[(_vm.isShow)?_c('server-set'):_vm._e()],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-7a87d608\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/system/platformset/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7a87d608\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7a87d608\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7a87d608\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/system/platformset/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}